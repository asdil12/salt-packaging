From 0b7089741d88b7a8b9fd3c5f142ea93371be542f Mon Sep 17 00:00:00 2001
From: Bo Maryniuk <bo@suse.de>
Date: Tue, 17 Oct 2017 16:52:33 +0200
Subject: [PATCH] Activate all beacons sources: config/pillar/grains

---
 salt/minion.py | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

diff --git a/salt/minion.py b/salt/minion.py
index 2515c36d5d..29b0d3f6d9 100644
--- a/salt/minion.py
+++ b/salt/minion.py
@@ -503,9 +503,7 @@ class MinionBase:
         the pillar or grains changed
         """
         if "config.merge" in functions:
-            b_conf = functions["config.merge"](
-                "beacons", self.opts["beacons"], omit_opts=True
-            )
+            b_conf = functions["config.merge"]("beacons", self.opts["beacons"])
             if b_conf:
                 return self.beacons.process(
                     b_conf, self.opts["grains"]
-- 
2.39.2


